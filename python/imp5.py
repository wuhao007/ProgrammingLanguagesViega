#!/usr/bin/python

grammar = {
            (1,'\t')  : 1  ,
            (1,'\n')  : 1  ,
            (1,' ')   : 1  ,

            (1,'#')   : 2  ,
            (2,'\n')  : 1  ,

            (1,'g')   : 3  ,
            (3,'l')   : 4  ,
            (4,'o')   : 5  ,
            (5,'b')   : 6  ,
            (6,'a')   : 7  ,
            (7,'l')   : 8  ,

            (8,'\t')  : 8  ,
            (8,'\n')  : 8  ,
            (8,' ')   : 8  ,

            (8,'#')   : 9  ,
            (9,'\n')  : 8  ,

            (8,'{')   : 10 ,

            (10,'#')  : 11 ,
            (11,'\n') : 10 ,

            (10,'\t') : 10 ,
            (10,'\n') : 10 ,
            (10,' ')  : 10 ,

            (10,'a')  : 26,
            (10,'b')  : 26,
            (10,'c')  : 26,
            (10,'d')  : 26,
            (10,'e')  : 26,
            (10,'f')  : 26,
            (10,'g')  : 26,
            (10,'h')  : 26,
            (10,'i')  : 26,
            (10,'j')  : 26,
            (10,'k')  : 26,
            (10,'l')  : 26,
            (10,'m')  : 26,
            (10,'n')  : 26,
            (10,'o')  : 26,
            (10,'p')  : 26,
            (10,'q')  : 26,
            (10,'r')  : 26,
            (10,'s')  : 26,
            (10,'t')  : 26,
            (10,'u')  : 26,
            (10,'v')  : 26,
            (10,'w')  : 26,
            (10,'x')  : 26,
            (10,'y')  : 26,
            (10,'z')  : 26,

            (10,'A')  : 26,
            (10,'B')  : 26,
            (10,'C')  : 26,
            (10,'D')  : 26,
            (10,'E')  : 26,
            (10,'F')  : 26,
            (10,'G')  : 26,
            (10,'H')  : 26,
            (10,'I')  : 26,
            (10,'J')  : 26,
            (10,'K')  : 26,
            (10,'L')  : 26,
            (10,'M')  : 26,
            (10,'N')  : 26,
            (10,'O')  : 26,
            (10,'P')  : 26,
            (10,'Q')  : 26,
            (10,'R')  : 26,
            (10,'S')  : 26,
            (10,'T')  : 26,
            (10,'U')  : 26,
            (10,'V')  : 26,
            (10,'W')  : 26,
            (10,'X')  : 26,
            (10,'Y')  : 26,
            (10,'Z')  : 26,

            (10,'_')  : 26,

            (26,'a')  : 26,
            (26,'b')  : 26,
            (26,'c')  : 26,
            (26,'d')  : 26,
            (26,'e')  : 26,
            (26,'f')  : 26,
            (26,'g')  : 26,
            (26,'h')  : 26,
            (26,'i')  : 26,
            (26,'j')  : 26,
            (26,'k')  : 26,
            (26,'l')  : 26,
            (26,'m')  : 26,
            (26,'n')  : 26,
            (26,'o')  : 26,
            (26,'p')  : 26,
            (26,'q')  : 26,
            (26,'r')  : 26,
            (26,'s')  : 26,
            (26,'t')  : 26,
            (26,'u')  : 26,
            (26,'v')  : 26,
            (26,'w')  : 26,
            (26,'x')  : 26,
            (26,'y')  : 26,
            (26,'z')  : 26,

            (26,'A')  : 26,
            (26,'B')  : 26,
            (26,'C')  : 26,
            (26,'D')  : 26,
            (26,'E')  : 26,
            (26,'F')  : 26,
            (26,'G')  : 26,
            (26,'H')  : 26,
            (26,'I')  : 26,
            (26,'J')  : 26,
            (26,'K')  : 26,
            (26,'L')  : 26,
            (26,'M')  : 26,
            (26,'N')  : 26,
            (26,'O')  : 26,
            (26,'P')  : 26,
            (26,'Q')  : 26,
            (26,'R')  : 26,
            (26,'S')  : 26,
            (26,'T')  : 26,
            (26,'U')  : 26,
            (26,'V')  : 26,
            (26,'W')  : 26,
            (26,'X')  : 26,
            (26,'Y')  : 26,
            (26,'Z')  : 26,

            (26,'0')  : 26,
            (26,'1')  : 26,
            (26,'2')  : 26,
            (26,'3')  : 26,
            (26,'4')  : 26,
            (26,'5')  : 26,
            (26,'6')  : 26,
            (26,'7')  : 26,
            (26,'8')  : 26,
            (26,'9')  : 26,

            (26,'_')  : 26,

            (26,'=')  : 28,

            (26,'\t') : 27 ,
            (26,' ')  : 27 ,

            (27,'\t') : 27 ,
            (27,' ')  : 27 ,

            (27,'=')  : 28 ,

            (28,'\t') : 28 ,
            (28,' ')  : 28 ,

            (28,'0')  : 29 ,
            (28,'1')  : 29 ,
            (28,'2')  : 29 ,
            (28,'3')  : 29 ,
            (28,'4')  : 29 ,
            (28,'5')  : 29 ,
            (28,'6')  : 29 ,
            (28,'7')  : 29 ,
            (28,'8')  : 29 ,
            (28,'9')  : 29 ,

            (28,'+')  : 29 ,
            (28,'-')  : 29 ,

            (29,'0')  : 29 ,
            (29,'1')  : 29 ,
            (29,'2')  : 29 ,
            (29,'3')  : 29 ,
            (29,'4')  : 29 ,
            (29,'5')  : 29 ,
            (29,'6')  : 29 ,
            (29,'7')  : 29 ,
            (29,'8')  : 29 ,
            (29,'9')  : 29 ,

            (29,'.')  : 32 ,

            (32,'0')  : 32 ,
            (32,'1')  : 32 ,
            (32,'2')  : 32 ,
            (32,'3')  : 32 ,
            (32,'4')  : 32 ,
            (32,'5')  : 32 ,
            (32,'6')  : 32 ,
            (32,'7')  : 32 ,
            (32,'8')  : 32 ,
            (32,'9')  : 32 ,



            (28,'a')  : 33,
            (28,'b')  : 33,
            (28,'c')  : 33,
            (28,'d')  : 33,
            (28,'e')  : 33,
            (28,'f')  : 33,
            (28,'g')  : 33,
            (28,'h')  : 33,
            (28,'i')  : 33,
            (28,'j')  : 33,
            (28,'k')  : 33,
            (28,'l')  : 33,
            (28,'m')  : 33,
            (28,'n')  : 33,
            (28,'o')  : 33,
            (28,'p')  : 33,
            (28,'q')  : 33,
            (28,'r')  : 33,
            (28,'s')  : 33,
            (28,'t')  : 33,
            (28,'u')  : 33,
            (28,'v')  : 33,
            (28,'w')  : 33,
            (28,'x')  : 33,
            (28,'y')  : 33,
            (28,'z')  : 33,

            (28,'A')  : 33,
            (28,'B')  : 33,
            (28,'C')  : 33,
            (28,'D')  : 33,
            (28,'E')  : 33,
            (28,'F')  : 33,
            (28,'G')  : 33,
            (28,'H')  : 33,
            (28,'I')  : 33,
            (28,'J')  : 33,
            (28,'K')  : 33,
            (28,'L')  : 33,
            (28,'M')  : 33,
            (28,'N')  : 33,
            (28,'O')  : 33,
            (28,'P')  : 33,
            (28,'Q')  : 33,
            (28,'R')  : 33,
            (28,'S')  : 33,
            (28,'T')  : 33,
            (28,'U')  : 33,
            (28,'V')  : 33,
            (28,'W')  : 33,
            (28,'X')  : 33,
            (28,'Y')  : 33,
            (28,'Z')  : 33,

            (28,'/')  : 33,


            (33,'a')  : 33,
            (33,'b')  : 33,
            (33,'c')  : 33,
            (33,'d')  : 33,
            (33,'e')  : 33,
            (33,'f')  : 33,
            (33,'g')  : 33,
            (33,'h')  : 33,
            (33,'i')  : 33,
            (33,'j')  : 33,
            (33,'k')  : 33,
            (33,'l')  : 33,
            (33,'m')  : 33,
            (33,'n')  : 33,
            (33,'o')  : 33,
            (33,'p')  : 33,
            (33,'q')  : 33,
            (33,'r')  : 33,
            (33,'s')  : 33,
            (33,'t')  : 33,
            (33,'u')  : 33,
            (33,'v')  : 33,
            (33,'w')  : 33,
            (33,'x')  : 33,
            (33,'y')  : 33,
            (33,'z')  : 33,

            (33,'A')  : 33,
            (33,'B')  : 33,
            (33,'C')  : 33,
            (33,'D')  : 33,
            (33,'E')  : 33,
            (33,'F')  : 33,
            (33,'G')  : 33,
            (33,'H')  : 33,
            (33,'I')  : 33,
            (33,'J')  : 33,
            (33,'K')  : 33,
            (33,'L')  : 33,
            (33,'M')  : 33,
            (33,'N')  : 33,
            (33,'O')  : 33,
            (33,'P')  : 33,
            (33,'Q')  : 33,
            (33,'R')  : 33,
            (33,'S')  : 33,
            (33,'T')  : 33,
            (33,'U')  : 33,
            (33,'V')  : 33,
            (33,'W')  : 33,
            (33,'X')  : 33,
            (33,'Y')  : 33,
            (33,'Z')  : 33,

            (33,'0')  : 33,
            (33,'1')  : 33,
            (33,'2')  : 33,
            (33,'3')  : 33,
            (33,'4')  : 33,
            (33,'5')  : 33,
            (33,'6')  : 33,
            (33,'7')  : 33,
            (33,'8')  : 33,
            (33,'9')  : 33,

            (33,'/')  : 33,
            (33,'-')  : 33,
            (33,'.')  : 33,
            (33,'_')  : 33,

            (28,'"')  : 34,
            (34,'\\') : 35,
            (34,'"')  : 36,

            (29,'\n') : 10 ,
            (29,'}')  : 12 ,
            (29,'#')  : 31 ,
            (29,'\t') : 30 ,
            (29,' ')  : 30 ,

            (32,'\n') : 10 ,
            (32,'}')  : 12 ,
            (32,'#')  : 31 ,
            (32,'\t') : 30 ,
            (32,' ')  : 30 ,

            (33,'\n') : 10 ,
            (33,'}')  : 12 ,
            (33,'#')  : 31 ,
            (33,'\t') : 30 ,
            (33,' ')  : 30 ,

            (36,'\n') : 10 ,
            (36,'}')  : 12 ,
            (36,'#')  : 31 ,
            (36,'\t') : 30 ,
            (36,' ')  : 30 ,

            (30,'\t') : 30 ,
            (30,' ')  : 30 ,
            (30,'\n') : 10 ,
            (30,'}')  : 12 ,

            (30,'#')  : 31 ,
            (31,'\n') : 10 ,

            (10,'}')  : 12 ,

            (12,'\t') : 12 ,
            (12,'\n') : 12 ,
            (12,' ')  : 12 ,

            (12,'#')  : 13 ,
            (13,'\n') : 12 ,

            (12,'h')  : 16 ,

            (12,';')  : 14 ,

            (14,'\t') : 14 ,
            (14,'\n') : 14 ,
            (14,' ')  : 14 ,

            (14,'#')  : 15 ,
            (15,'\n') : 14 ,

            (14,'h') : 16 ,
            (16,'o') : 17 ,
            (17,'s') : 18 ,
            (18,'t') : 18.5,

            (18.5,'\t') : 19 ,
            (18.5,'\n') : 19 ,
            (18.5,' ')  : 19 ,

            (18.5,'#')  : 20 ,

            (19,'\t') : 19 ,
            (19,'\n') : 19 ,
            (19,' ')  : 19 ,

            (19,'#')  : 20 ,
            (20,'\n') : 19 ,

            (19,'a')  : 21,
            (19,'b')  : 21,
            (19,'c')  : 21,
            (19,'d')  : 21,
            (19,'e')  : 21,
            (19,'f')  : 21,
            (19,'g')  : 21,
            (19,'h')  : 21,
            (19,'i')  : 21,
            (19,'j')  : 21,
            (19,'k')  : 21,
            (19,'l')  : 21,
            (19,'m')  : 21,
            (19,'n')  : 21,
            (19,'o')  : 21,
            (19,'p')  : 21,
            (19,'q')  : 21,
            (19,'r')  : 21,
            (19,'s')  : 21,
            (19,'t')  : 21,
            (19,'u')  : 21,
            (19,'v')  : 21,
            (19,'w')  : 21,
            (19,'x')  : 21,
            (19,'y')  : 21,
            (19,'z')  : 21,

            (19,'A')  : 21,
            (19,'B')  : 21,
            (19,'C')  : 21,
            (19,'D')  : 21,
            (19,'E')  : 21,
            (19,'F')  : 21,
            (19,'G')  : 21,
            (19,'H')  : 21,
            (19,'I')  : 21,
            (19,'J')  : 21,
            (19,'K')  : 21,
            (19,'L')  : 21,
            (19,'M')  : 21,
            (19,'N')  : 21,
            (19,'O')  : 21,
            (19,'P')  : 21,
            (19,'Q')  : 21,
            (19,'R')  : 21,
            (19,'S')  : 21,
            (19,'T')  : 21,
            (19,'U')  : 21,
            (19,'V')  : 21,
            (19,'W')  : 21,
            (19,'X')  : 21,
            (19,'Y')  : 21,
            (19,'Z')  : 21,

            (19,'0')  : 21,
            (19,'1')  : 21,
            (19,'2')  : 21,
            (19,'3')  : 21,
            (19,'4')  : 21,
            (19,'5')  : 21,
            (19,'6')  : 21,
            (19,'7')  : 21,
            (19,'8')  : 21,
            (19,'9')  : 21,

            (19,'.')  : 21,
            (19,'_')  : 21,
            (19,'-')  : 21,

            (21,'a')  : 21,
            (21,'b')  : 21,
            (21,'c')  : 21,
            (21,'d')  : 21,
            (21,'e')  : 21,
            (21,'f')  : 21,
            (21,'g')  : 21,
            (21,'h')  : 21,
            (21,'i')  : 21,
            (21,'j')  : 21,
            (21,'k')  : 21,
            (21,'l')  : 21,
            (21,'m')  : 21,
            (21,'n')  : 21,
            (21,'o')  : 21,
            (21,'p')  : 21,
            (21,'q')  : 21,
            (21,'r')  : 21,
            (21,'s')  : 21,
            (21,'t')  : 21,
            (21,'u')  : 21,
            (21,'v')  : 21,
            (21,'w')  : 21,
            (21,'x')  : 21,
            (21,'y')  : 21,
            (21,'z')  : 21,

            (21,'A')  : 21,
            (21,'B')  : 21,
            (21,'C')  : 21,
            (21,'D')  : 21,
            (21,'E')  : 21,
            (21,'F')  : 21,
            (21,'G')  : 21,
            (21,'H')  : 21,
            (21,'I')  : 21,
            (21,'J')  : 21,
            (21,'K')  : 21,
            (21,'L')  : 21,
            (21,'M')  : 21,
            (21,'N')  : 21,
            (21,'O')  : 21,
            (21,'P')  : 21,
            (21,'Q')  : 21,
            (21,'R')  : 21,
            (21,'S')  : 21,
            (21,'T')  : 21,
            (21,'U')  : 21,
            (21,'V')  : 21,
            (21,'W')  : 21,
            (21,'X')  : 21,
            (21,'Y')  : 21,
            (21,'Z')  : 21,

            (21,'0')  : 21,
            (21,'1')  : 21,
            (21,'2')  : 21,
            (21,'3')  : 21,
            (21,'4')  : 21,
            (21,'5')  : 21,
            (21,'6')  : 21,
            (21,'7')  : 21,
            (21,'8')  : 21,
            (21,'9')  : 21,

            (21,'\t') : 22,
            (21,'\n') : 22,
            (21,' ')  : 22,

            (21,'#')  : 23,

            (21,'{')  : 24,

            (21,'.')  : 21,
            (21,'_')  : 21,
            (21,'-')  : 21,

            (22,'\t') : 22 ,
            (22,'\n') : 22 ,
            (22,' ')  : 22 ,

            (22,'#')  : 23 ,
            (23,'\n') : 22 ,

            (22,'{')  : 24 ,

            (24,'\t') : 24 ,
            (24,'\n') : 24 ,
            (24,' ')  : 24 ,

            (24,'#')  : 25 ,
            (25,'\n') : 24 ,

            (24,'}')  : 12 ,


            (24,'a')  : 37,
            (24,'b')  : 37,
            (24,'c')  : 37,
            (24,'d')  : 37,
            (24,'e')  : 37,
            (24,'f')  : 37,
            (24,'g')  : 37,
            (24,'h')  : 37,
            (24,'i')  : 37,
            (24,'j')  : 37,
            (24,'k')  : 37,
            (24,'l')  : 37,
            (24,'m')  : 37,
            (24,'n')  : 37,
            (24,'o')  : 37,
            (24,'p')  : 37,
            (24,'q')  : 37,
            (24,'r')  : 37,
            (24,'s')  : 37,
            (24,'t')  : 37,
            (24,'u')  : 37,
            (24,'v')  : 37,
            (24,'w')  : 37,
            (24,'x')  : 37,
            (24,'y')  : 37,
            (24,'z')  : 37,

            (24,'A')  : 37,
            (24,'B')  : 37,
            (24,'C')  : 37,
            (24,'D')  : 37,
            (24,'E')  : 37,
            (24,'F')  : 37,
            (24,'G')  : 37,
            (24,'H')  : 37,
            (24,'I')  : 37,
            (24,'J')  : 37,
            (24,'K')  : 37,
            (24,'L')  : 37,
            (24,'M')  : 37,
            (24,'N')  : 37,
            (24,'O')  : 37,
            (24,'P')  : 37,
            (24,'Q')  : 37,
            (24,'R')  : 37,
            (24,'S')  : 37,
            (24,'T')  : 37,
            (24,'U')  : 37,
            (24,'V')  : 37,
            (24,'W')  : 37,
            (24,'X')  : 37,
            (24,'Y')  : 37,
            (24,'Z')  : 37,

            (24,'_')  : 37,


            (37,'a')  : 37,
            (37,'b')  : 37,
            (37,'c')  : 37,
            (37,'d')  : 37,
            (37,'e')  : 37,
            (37,'f')  : 37,
            (37,'g')  : 37,
            (37,'h')  : 37,
            (37,'i')  : 37,
            (37,'j')  : 37,
            (37,'k')  : 37,
            (37,'l')  : 37,
            (37,'m')  : 37,
            (37,'n')  : 37,
            (37,'o')  : 37,
            (37,'p')  : 37,
            (37,'q')  : 37,
            (37,'r')  : 37,
            (37,'s')  : 37,
            (37,'t')  : 37,
            (37,'u')  : 37,
            (37,'v')  : 37,
            (37,'w')  : 37,
            (37,'x')  : 37,
            (37,'y')  : 37,
            (37,'z')  : 37,

            (37,'A')  : 37,
            (37,'B')  : 37,
            (37,'C')  : 37,
            (37,'D')  : 37,
            (37,'E')  : 37,
            (37,'F')  : 37,
            (37,'G')  : 37,
            (37,'H')  : 37,
            (37,'I')  : 37,
            (37,'J')  : 37,
            (37,'K')  : 37,
            (37,'L')  : 37,
            (37,'M')  : 37,
            (37,'N')  : 37,
            (37,'O')  : 37,
            (37,'P')  : 37,
            (37,'Q')  : 37,
            (37,'R')  : 37,
            (37,'S')  : 37,
            (37,'T')  : 37,
            (37,'U')  : 37,
            (37,'V')  : 37,
            (37,'W')  : 37,
            (37,'X')  : 37,
            (37,'Y')  : 37,
            (37,'Z')  : 37,

            (37,'0')  : 37,
            (37,'1')  : 37,
            (37,'2')  : 37,
            (37,'3')  : 37,
            (37,'4')  : 37,
            (37,'5')  : 37,
            (37,'6')  : 37,
            (37,'7')  : 37,
            (37,'8')  : 37,
            (37,'9')  : 37,

            (37,'_')  : 37,

            (37,'=')  : 39,

            (37,'\t') : 38 ,
            (37,' ')  : 38 ,

            (38,'\t') : 38 ,
            (38,' ')  : 38 ,

            (38,'=')  : 39 ,

            (39,'\t') : 39 ,
            (39,' ')  : 39 ,

            (39,'0')  : 40 ,
            (39,'1')  : 40 ,
            (39,'2')  : 40 ,
            (39,'3')  : 40 ,
            (39,'4')  : 40 ,
            (39,'5')  : 40 ,
            (39,'6')  : 40 ,
            (39,'7')  : 40 ,
            (39,'8')  : 40 ,
            (39,'9')  : 40 ,

            (39,'+')  : 40 ,
            (39,'-')  : 40 ,

            (40,'0')  : 40 ,
            (40,'1')  : 40 ,
            (40,'2')  : 40 ,
            (40,'3')  : 40 ,
            (40,'4')  : 40 ,
            (40,'5')  : 40 ,
            (40,'6')  : 40 ,
            (40,'7')  : 40 ,
            (40,'8')  : 40 ,
            (40,'9')  : 40 ,

            (40,'.')  : 43 ,

            (43,'0')  : 43 ,
            (43,'1')  : 43 ,
            (43,'2')  : 43 ,
            (43,'3')  : 43 ,
            (43,'4')  : 43 ,
            (43,'5')  : 43 ,
            (43,'6')  : 43 ,
            (43,'7')  : 43 ,
            (43,'8')  : 43 ,
            (43,'9')  : 43 ,



            (39,'a')  : 44,
            (39,'b')  : 44,
            (39,'c')  : 44,
            (39,'d')  : 44,
            (39,'e')  : 44,
            (39,'f')  : 44,
            (39,'g')  : 44,
            (39,'h')  : 44,
            (39,'i')  : 44,
            (39,'j')  : 44,
            (39,'k')  : 44,
            (39,'l')  : 44,
            (39,'m')  : 44,
            (39,'n')  : 44,
            (39,'o')  : 44,
            (39,'p')  : 44,
            (39,'q')  : 44,
            (39,'r')  : 44,
            (39,'s')  : 44,
            (39,'t')  : 44,
            (39,'u')  : 44,
            (39,'v')  : 44,
            (39,'w')  : 44,
            (39,'x')  : 44,
            (39,'y')  : 44,
            (39,'z')  : 44,

            (39,'A')  : 44,
            (39,'B')  : 44,
            (39,'C')  : 44,
            (39,'D')  : 44,
            (39,'E')  : 44,
            (39,'F')  : 44,
            (39,'G')  : 44,
            (39,'H')  : 44,
            (39,'I')  : 44,
            (39,'J')  : 44,
            (39,'K')  : 44,
            (39,'L')  : 44,
            (39,'M')  : 44,
            (39,'N')  : 44,
            (39,'O')  : 44,
            (39,'P')  : 44,
            (39,'Q')  : 44,
            (39,'R')  : 44,
            (39,'S')  : 44,
            (39,'T')  : 44,
            (39,'U')  : 44,
            (39,'V')  : 44,
            (39,'W')  : 44,
            (39,'X')  : 44,
            (39,'Y')  : 44,
            (39,'Z')  : 44,

            (39,'/')  : 44,


            (44,'a')  : 44,
            (44,'b')  : 44,
            (44,'c')  : 44,
            (44,'d')  : 44,
            (44,'e')  : 44,
            (44,'f')  : 44,
            (44,'g')  : 44,
            (44,'h')  : 44,
            (44,'i')  : 44,
            (44,'j')  : 44,
            (44,'k')  : 44,
            (44,'l')  : 44,
            (44,'m')  : 44,
            (44,'n')  : 44,
            (44,'o')  : 44,
            (44,'p')  : 44,
            (44,'q')  : 44,
            (44,'r')  : 44,
            (44,'s')  : 44,
            (44,'t')  : 44,
            (44,'u')  : 44,
            (44,'v')  : 44,
            (44,'w')  : 44,
            (44,'x')  : 44,
            (44,'y')  : 44,
            (44,'z')  : 44,

            (44,'A')  : 44,
            (44,'B')  : 44,
            (44,'C')  : 44,
            (44,'D')  : 44,
            (44,'E')  : 44,
            (44,'F')  : 44,
            (44,'G')  : 44,
            (44,'H')  : 44,
            (44,'I')  : 44,
            (44,'J')  : 44,
            (44,'K')  : 44,
            (44,'L')  : 44,
            (44,'M')  : 44,
            (44,'N')  : 44,
            (44,'O')  : 44,
            (44,'P')  : 44,
            (44,'Q')  : 44,
            (44,'R')  : 44,
            (44,'S')  : 44,
            (44,'T')  : 44,
            (44,'U')  : 44,
            (44,'V')  : 44,
            (44,'W')  : 44,
            (44,'X')  : 44,
            (44,'Y')  : 44,
            (44,'Z')  : 44,

            (44,'0')  : 44,
            (44,'1')  : 44,
            (44,'2')  : 44,
            (44,'3')  : 44,
            (44,'4')  : 44,
            (44,'5')  : 44,
            (44,'6')  : 44,
            (44,'7')  : 44,
            (44,'8')  : 44,
            (44,'9')  : 44,

            (44,'/')  : 44,
            (44,'-')  : 44,
            (44,'.')  : 44,
            (44,'_')  : 44,

            (39,'"')  : 45,
            (45,'\\') : 46,
            (45,'"')  : 47,

            (40,'\n') : 24 ,
            (40,'}')  : 12 ,
            (40,'#')  : 42 ,
            (40,'\t') : 41 ,
            (40,' ')  : 41 ,

            (43,'\n') : 24 ,
            (43,'}')  : 12 ,
            (43,'#')  : 42 ,
            (43,'\t') : 41 ,
            (43,' ')  : 41 ,

            (44,'\n') : 24 ,
            (44,'}')  : 12 ,
            (44,'#')  : 42 ,
            (44,'\t') : 41 ,
            (44,' ')  : 41 ,

            (47,'\n') : 24 ,
            (47,'}')  : 12 ,
            (47,'#')  : 42 ,
            (47,'\t') : 41 ,
            (47,' ')  : 41 ,

            (41,'\t') : 41 ,
            (41,' ')  : 41 ,
            (41,'\n') : 24 ,
            (41,'}')  : 12 ,

            (41,'#')  : 42 ,
            (42,'\n') : 24 ,


}

comment = [2,9,11,13,15,20,23,25,31,42]
global_quoted_list = [34,35]
host_quoted_list = [45,46]
hosts = []
host_content = {}
host_tree = {}
global_keys = []
global_set = set([])
host_set = set([])
global_content = {}
line = 1
state = 1
display_flag = False

def escapde_quotestr(quotedstr):
  escapedstr = ''
  i = 0
  while (i < len(quotedstr)):
    if (quotedstr[i] == '\\'):
      if (quotedstr[i+1] == 'n'):
        escapedstr += '\n'
        i += 1
      elif (quotedstr[i+1] == 'r'):
        escapedstr += '\r'
        i += 1
      elif (quotedstr[i+1] == '\\'):
        escapedstr += '\\'
        i += 1
    else:
      escapedstr += quotedstr[i]
    i += 1
  return escapedstr

def display():
  if state >= 12:
    print 'GLOBAL:'
    for globalkey in global_keys:
      print globalkey + ':' + global_content[globalkey]
  for hostname in hosts:
    print 'HOST ' + hostname + ':'
    for hostkey in host_content[hostname]:
      print hostkey + ':' + host_tree[hostname][hostkey]

with open('test.cfg', 'r') as fin:
  cfg = fin.read()
  host_name = ''
  global_key = ''
  host_key = ''
  global_int = ''
  host_int = ''
  global_float = ''
  host_float = ''
  global_str = ''
  host_str = ''
  global_quoted_str = ''
  host_quoted_str = ''
  for char_num in range(len(cfg)):
    charactor = cfg[char_num]
    old_state = state
    #print state, charactor
    if (state, charactor) in grammar:
      state = grammar[(state, charactor)]
      if old_state == 19 and state == 21:
        host_name = charactor
      elif state == 21:
        host_name += charactor

      if old_state == 10 and state == 26: 
        global_key = charactor
      elif state == 26:
        global_key += charactor

      if old_state == 24 and state == 37: 
        host_key = charactor
      elif state == 37:
        host_key += charactor

      if old_state == 28 and state == 29: 
        global_int = charactor
      elif state == 29:
        global_int += charactor

      if old_state == 39 and state == 40: 
        host_int = charactor
      elif state == 40:
        host_int += charactor

      if old_state == 29 and state == 32: 
        global_float = global_int + charactor
        global_int = ''
      elif state == 32:
        global_float += charactor

      if old_state == 40 and state == 43: 
        host_float = host_int + charactor
        host_int = ''
      elif state == 43:
        host_float += charactor

      if old_state == 28 and state == 33: 
        global_str = charactor
      elif state == 33:
        global_str += charactor

      if old_state == 39 and state == 44: 
        host_str = charactor
      elif state == 44:
        host_str += charactor

      if old_state == 28 and state == 34: 
        global_quoted_str = charactor
      elif state in global_quoted_list:
        global_quoted_str += charactor

      if old_state == 39 and state == 45: 
        host_quoted_str = charactor
      elif state in host_quoted_list:
        host_quoted_str += charactor

      if old_state < 24 and state == 24:
        host_content[host_name] = []
        hosts += [host_name]

      if (old_state > 25 and old_state < 37) and (state == 10 or state == 12):

        O = ''
        if global_key in global_set:
          O = 'O'
        else:
          global_set.add(global_key)

        if global_int != '':
          global_key = '    I:' + O + ':' + global_key
          global_content[global_key] = global_int
          global_keys += [global_key]
          global_int = ''

        if global_float != '':
          global_key = '    F:' + O + ':' + global_key
          global_content[global_key] = global_float
          global_keys += [global_key]
          global_float = ''

        if global_str != '':
          global_key = '    S:' + O + ':' + global_key
          global_content[global_key] = global_str
          global_keys += [global_key]
          global_str = ''

        if global_quoted_str != '':
          global_key = '    Q:' + O + ':' + global_key
          global_content[global_key] = '""' + escapde_quotestr(global_quoted_str) + '"""'
          global_keys += [global_key]
          global_quoted_str = ''

        #if state == 12:
        #  print 'GLOBAL:'
        #  for globalkey in global_keys:
        #    print globalkey + ':' + global_content[globalkey]


      if (old_state > 36 and old_state < 48) and (state == 24 or state == 12):

        if host_name not in host_tree:
          host_tree[host_name] = {}

        O = ''
        if host_key in global_set:
          O = 'O'

        if host_key in host_set:
          O = 'O'
        else:
          host_set.add(host_key)

        if host_int != '':
          host_key = '    I:' + O + ':' + host_key
          host_content[host_name] += [host_key]
          host_tree[host_name][host_key] = host_int
          host_int = ''

        if host_float != '':
          host_key = '    F:' + O + ':' + host_key
          host_content[host_name] += [host_key]
          host_tree[host_name][host_key] = host_float
          host_float = ''

        if host_str != '':
          host_key = '    S:' + O + ':' + host_key
          host_content[host_name] += [host_key]
          host_tree[host_name][host_key] = host_str
          host_str = ''

        if host_quoted_str != '':
          host_key = '    Q:' + O + ':' + host_key
          host_content[host_name] += [host_key]
          host_tree[host_name][host_key] = '""' + escapde_quotestr(host_quoted_str) + '"""'
          host_quoted_str = ''

      if state == 12:
        host_set.clear()
        #if state == 12:
        #  for hostname in hosts:
        #    print 'HOST ' + hostname + ':'
        #    for hostkey in host_content[hostname]:
        #      print hostkey + ':' + host_tree[hostname][hostkey]
        #  hosts.clear()

    elif state in comment:
      continue
    elif state in global_quoted_list:
      if state == 35:
        state = 34
      if charactor == '\n':
        print 'ERR:L:'+str(line)
        state = 0
        break
      global_quoted_str += charactor
      continue
    elif state in host_quoted_list:
      if state == 46:
        state = 45
      if charactor == '\n':
        display_flag = True
        hosts.remove(host_name)
        display()
        print 'ERR:L:'+str(line)
        state = 0
        break
      host_quoted_str += charactor
      continue
    else:
      display_flag = True
      if (old_state > 25 and old_state < 37):
        print 'ERR:P:'+str(line)
        state = 0
        break
      if (state > 21 and state <= 25) or (old_state > 36 and old_state < 48):
        hosts.remove(host_name)
      display()
      print 'ERR:P:'+str(line)
      state = 0
      break

    if charactor == '\n' and (char_num != len(cfg) - 1):
      line += 1

if display_flag == False:
  if state in [12, 14]:
    print 'GLOBAL:'
    for globalkey in global_keys:
      print globalkey + ':' + global_content[globalkey]
    for hostname in hosts:
      print 'HOST ' + hostname + ':'
      for hostkey in host_content[hostname]:
        print hostkey + ':' + host_tree[hostname][hostkey]
  else:
    if (old_state > 25 and old_state < 37):
      print 'ERR:P:'+str(line)
    elif (state > 21 and state <= 25) or (old_state > 36 and old_state < 48):
      hosts.remove(host_name)
    display()
    print 'ERR:P:'+str(line)
